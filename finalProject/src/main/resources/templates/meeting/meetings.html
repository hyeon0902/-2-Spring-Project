<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{meeting/meetingLayout}">
<head>
<meta charset="utf-8">
<title>봉사모임 페이지</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<meta content="" name="keywords">
<meta content="" name="description">
</head>
<body>
	<section layout:fragment="content">
		<!-- Features Start -->
		<div class="container-fluid features mb-5" id="">
			<div class="container py-5">
				<h3>이달의 봉사왕</h3>
				<div class="row g-4">
					<!-- 시작 -->
					<div class="col-md-6 col-lg-6 col-xl-3" th:each="cnt,st : ${cnt}" th:if="${st.count}<=3">
						<div class="row g-4 align-items-center features-item">
							<div class="col-4">
								<div class="rounded-circle position-relative">
									<div class="overflow-hidden rounded-circle">
										<img th:if="${cnt.path}!=null" th:src="@{${cnt.path}}" onError="this.src='../dpdd/img/news-7.jpg'" class="img-zoomin img-fluid rounded-circle w-100" alt="">
										<img th:if="${cnt.path}==null" src="../image/기본이미지.jpg" class="img-zoomin img-fluid rounded-circle w-100" alt="">
									</div>
									<span class="rounded-circle border border-2 border-white bg-primary text-white position-absolute"
										style="top: 10%; right: -10px;" th:text="${st.count}+'등'"></span>
								</div>
							</div>
							<div class="col-8">
								<div class="features-content d-flex flex-column">
									<p class="text-uppercase mb-2" th:text="${cnt.cnt}+'회'"></p>
									<a href="#" class="h6" th:text="${cnt.memId}+'님'"> </a> 
								</div>
							</div>
						</div>
					</div>
					<!-- 마지막 -->
				</div>
			</div>
		</div>
		<!-- Features End -->
		<!-- Latest News Start -->
		<div class="container-fluid latest-news py-5" style="padding:0 !important">
			<div class="container py-5" style="padding:0 !important">
				<h3 class="mb-4 border-bottom">지난 봉사활동</h3>
				<div class="latest-news-carousel owl-carousel" id="three">
					<div th:if="${before.size}=='0'">지난 봉사가 없습니다.</div>
					<div class="latest-news-item" th:each="act : ${before}">
						<div class="bg-light rounded">
							<div class="rounded-top overflow-hidden">
								<img th:if="${act.filePath}==null" src="../dpdd/img/news-7.jpg" class="img-zoomin img-fluid rounded-top w-100" alt="" style="height:230px;">
								<img th:if="${act.filePath}!=null" th:src="${act.filePath}" onError="this.src='../dpdd/img/news-7.jpg'" class="img-zoomin img-fluid rounded-top w-100" alt="" style="height:230px;">
							</div>
							<div class="d-flex flex-column p-4">
								<a href="#" class="h4" th:text="${act.title}"></a>
								<div class="d-flex justify-content-between">
									<p class="text-uppercase mb-2" th:if="${act.category}=='i01'">동물</p>
									<p class="text-uppercase mb-2" th:if="${act.category}=='i02'">어르신</p>
									<p class="text-uppercase mb-2" th:if="${act.category}=='i03'">가족·여성</p>
									<p class="text-uppercase mb-2" th:if="${act.category}=='i04'">장애인</p>
									<p class="text-uppercase mb-2" th:if="${act.category}=='i05'">아동·청소년</p>
									<p class="text-uppercase mb-2" th:if="${act.category}=='i06'">환경</p>
									<p class="text-uppercase mb-2" th:if="${act.category}=='i07'">기타</p>
									<small class="text-body d-block"><i class="fas fa-calendar-alt me-1"></i>[[${#dates.format(act.volDate, 'yyyy/MM/dd')}]]</small>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<!-- Most Populer News Start -->
		<div class="container-fluid populer-news py-5" style="padding:0 !important">
			<div class="container py-5">
				<div class="tab-class mb-4">
					<div class="row g-4">
						<div class="col-lg-8 col-xl-9">
							<div
								class="d-flex flex-column flex-md-row justify-content-md-between border-bottom mb-4">
								<h3 class="mb-4">예정 봉사활동</h3>
								<ul class="nav nav-pills d-inline-flex text-center">
									<li class="nav-item mb-3">
										<a class="d-flex py-2 bg-light rounded-pill active me-2" data-bs-toggle="pill" href="#tab-1">
											<span class="text-dark" style="width: 200px;">동물</span>
										</a>
									</li>
								</ul>
							</div>
							<div class="tab-content mb-4">
								<div id="tab-1" class="tab-pane fade show p-0 active">
									<div class="row g-4">
										<div class="col-lg-8">
											<div class="position-relative rounded overflow-hidden">
												<img th:if="${after[0].filePath}==null" src="../dpdd/img/news-7.jpg" class="img-zoomin img-fluid rounded-top w-100" alt="" style="height:270px;">
												<img th:if="${after[0].filePath}!=null" th:src="${after[0].filePath}" onError="this.src='../dpdd/img/news-7.jpg'" 
													class="img-zoomin img-fluid rounded-top w-100" alt="" style="height:270px;">
												<div class="position-absolute text-white px-4 py-2 bg-primary rounded"
													style="top: 20px; right: 20px;">동물</div>
											</div>
											<div class="my-4">
												<a href="#" class="h4" th:text="${after[0].title}"></a>
											</div>
											<div class="d-flex justify-content-left">
												<a href="#" class="text-dark link-hover me-3">
												<i class="fa fa-clock"></i>[[${#dates.format(after[0].volDate, 'yyyy년 MM월 dd일')}]]</a> 
												<a href="#" class="text-dark link-hover me-3"><i class="fa fa-user" id="cnt"></i></a>
											</div>
										</div>
										<script>
											$('#cnt').text('명 참여')
											$.ajax('../volActMemCnt?volActId='+[[${act[0].volActId}]])
									       .done(result => {
									    	   $('#cnt').text(result.cnt+'명 참여')
									       })
									       .fail(err => console.log(err));
											
											$.ajax('../memPhoto?userCode='+[[${act[0].volActId}]])
									       .done(result => {
									    	   $('#cnt').text(result.cnt+'명 참여')
									       })
									       .fail(err => console.log(err));
											
										</script>
										<div class="col-lg-4" th:each="act,st : ${after}" th:if="${st.count}>1">
											<div class="row g-4">
												<div class="col-12">
													<div class="row g-4 align-items-center">
														<div class="col-5">
															<div class="overflow-hidden rounded">
																<img th:if="${act.filePath}==null" src="../dpdd/img/news-7.jpg" class="img-zoomin img-fluid rounded-top w-100" alt="" style="height:255px;">
																<img th:if="${act.filePath}!=null" th:src="${act.filePath}" onError="this.src='../dpdd/img/news-7.jpg'" class="img-zoomin img-fluid rounded-top w-100" alt="" style="height:255px;">
															</div>
														</div>
														<div class="col-7">
															<div class="features-content d-flex flex-column">
															<p class="text-uppercase mb-2" th:if="${act.category}=='i01'">동물</p>
															<p class="text-uppercase mb-2" th:if="${act.category}=='i02'">어르신</p>
															<p class="text-uppercase mb-2" th:if="${act.category}=='i03'">가족·여성</p>
															<p class="text-uppercase mb-2" th:if="${act.category}=='i04'">장애인</p>
															<p class="text-uppercase mb-2" th:if="${act.category}=='i05'">아동·청소년</p>
															<p class="text-uppercase mb-2" th:if="${act.category}=='i06'">환경</p>
															<p class="text-uppercase mb-2" th:if="${act.category}=='i07'">기타</p>
															<a href="#" class="h6" th:text="${act.title}"></a>
															<small class="text-body d-block"><i class="fas fa-calendar-alt me-1"></i>[[${#dates.format(act.volDate, 'yyyy/MM/dd')}]]</small>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<br>
							<div class="border-bottom mb-4">
								<h3 class="my-4">봉사 후기</h3>
							</div>
							<div class="whats-carousel owl-carousel">
								<div class="latest-news-item" th:each="review : ${review}">
									<div class="bg-light rounded">
										<div class="rounded-top overflow-hidden">
											<img th:if="${review.filePath}==null" src="../dpdd/img/news-7.jpg" class="img-zoomin img-fluid rounded-top w-100" alt="" style="height:255px;">
											<img th:if="${review.filePath}!=null" th:src="${review.filePath}" onError="this.src='../dpdd/img/news-7.jpg'" class="img-zoomin img-fluid rounded-top w-100" alt="" style="height:255px;">
										</div>
										<div class="d-flex flex-column p-4">
											<a href="#" class="h4" th:text="${review.title}"></a>
											<div class="d-flex justify-content-between">
												<a href="#" class="small text-body link-hover" th:text="'by '+${review.writer}+'님'"></a> <small class="text-body d-block"><i
													class="fas fa-calendar-alt me-1"></i>[[${#dates.format(review.writeDate, 'yyyy/MM/dd')}]]</small>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-lg-4 col-xl-3">
							<div class="row g-4">
								<div class="col-12">
									<div class="p-3 rounded border">
									<th:block th:if="${choose.size}!=0">
										<h4 class="mb-4">이런 모임은 어때요?</h4>
										<div class="row g-4">
											<div class="col-12">
												<a href="#" class="w-100 rounded btn btn-primary d-flex align-items-center p-3 mb-2" th:each="choose,st : ${choose}" th:if="${st.count}<6">
													<i class="fab fa-facebook-f btn btn-light btn-square rounded-circle me-3"></i>
													<span class="text-white">13,977 Fans</span>
												</a> 
											</div>
										</div>
										</th:block>
										<h4 class="my-4">참여중인 회원</h4>
										<div class="row g-4">
											<div class="col-12" th:each="mem,st : ${member}" th:if="${st.count}<5">
												<div class="row g-4 align-items-center features-item">
													<div class="col-4">
														<div class="rounded-circle position-relative">
															<div class="overflow-hidden rounded-circle">
																<img th:if="${mem.path}!=null" th:src="@{${mem.path}}" onError="this.src='../image/기본이미지.jpg'" class="img-zoomin img-fluid rounded-circle w-100" alt="">
																<img th:if="${mem.path}==null" src="../image/기본이미지.jpg" class="img-zoomin img-fluid rounded-circle w-100" alt="">
															</div>
															<span th:if="${mem.memId}==${info.memId}" class="rounded-circle border border-2 border-white bg-primary  text-white position-absolute" style="top: 10%; right: -10px;">
															방장
															</span>
														</div>
													</div>
													<div class="col-8">
														<div class="features-content d-flex flex-column">
															<a href="#" class="h6" th:text="${mem.memId}"></a> <small class="text-body d-block">
															<i class="fas fa-calendar-alt me-1"></i>[[${#dates.format(mem.appDate, 'yyyy/MM/dd')}]]</small>
														</div>
													</div>
												</div>
											</div>
											<div class="col-lg-12">
												<a href="#" th:if="${member.size}>4"class="link-hover btn border border-primary rounded-pill text-dark w-100 py-3 mb-4">View More</a>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- Latest News End -->
		<!-- Back to Top -->
		<a href="#"
			class="btn btn-primary border-2 border-white rounded-circle back-to-top"><i
			class="fa fa-arrow-up"></i></a>


		<!-- JavaScript Libraries -->
		<script
			src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
		<script src="../dpdd/lib/easing/easing.min.js"></script>
		<script src="../dpdd/lib/waypoints/waypoints.min.js"></script>
		<script src="../dpdd/lib/owlcarousel/owl.carousel.min.js"></script>

		<!-- Template Javascript -->
		<script src="../dpdd/js/main.js"></script>
	</section>
</body>

</html>