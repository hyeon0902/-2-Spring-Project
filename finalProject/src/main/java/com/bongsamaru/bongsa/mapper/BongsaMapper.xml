<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="com.bongsamaru.bongsa.mapper.BongsaMapper">
 
 	<select id="meetingList" resultType="VolunteerVO">
		select meet_name
				,vol_id
				,cap
				,region
				,REC_PERIOD
				,end_period
				,(select count(*) from vol_mem where vol_id=volunteer.vol_id and app_code=1) as meetingCnt
        from volunteer
        where room_stat=1
	</select>
	
	<select id="tagList" resultType="TagVO">
		select tag_content,
				vol_id
		from tag 
		order by tag_id
	</select>
	<select id="facilityList" resultType="VolActVO">
		    SELECT
	            vol_act_id,
	            FAC_ID, 
	            CATEGORY,
	            TITLE, 
	            CONTENT, 
	            LOCATION, 
	            CAP, 
	            VOL_DATE,
	            start_Date,
            	expire_Date,
	            select_file(vol_act_id,'p14') as path
        from vol_act
        where fac_id is not null
        order by vol_act_id
	</select>
	
 </mapper>